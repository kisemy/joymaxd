<!-- Skin configuration box -->
<!-- <%= render 'layouts/skinconfig' %> -->

    <!-- Wrapper-->
<div id="wrapper" class="<%= params[:controller] %>.<%= params[:action] %>">

        <!-- Navigation -->
        <%= render 'layouts/navigation' %>

        <!-- Page wraper -->
        <div id="page-wrapper" class="gray-bg <%= @extra_class %>">

            <!-- Page wrapper -->
            <%= render 'layouts/topnavbar' %>

            <!-- Main view  -->






<!-- app/views/sales_orders/new.html.erb -->
<%= form_with model: @sales_order, local: true do |form| %>

<div class="form-container">



   <div class="main-form">
   <br>




 <br>
  
  <%= form.label :customer_name %><br>
<%= form.select :customer_name, Customer.pluck(:customer_name), {}, id: 'customer_name', class: 'select2', class: 'styled-textarea'  %>
  
  

  <div>
    <%= form.label :customer_no %>
    <%= form.text_field :customer_no, id: 'customer_no', readonly: true, class: 'styled-textarea'  %>
  </div>

  <div>
    <%= form.label :contactno %>
    <%= form.text_field :contactno, id: 'contactno', readonly: true , class: 'styled-textarea' %>
  </div>

  <div>
    <%= form.label :contact_name %>
    <%= form.text_field :contact_name, id: 'contact_name', readonly: true, class: 'styled-textarea'  %>
  </div>

  <div>
    <%= form.label :address %>
    <%= form.text_field :address, id: 'address', readonly: true, class: 'styled-textarea'  %>
  </div>

  <div>
    <%= form.label :city %>
    <%= form.text_field :city, id: 'city', readonly: true, class: 'styled-textarea'  %>
  </div>

  <div>
    <%= form.label :quote_date %>
    <%= form.date_field :quote_date %>
  </div>

  <div>
    <%= form.label :sales_person_code %>
    <%= form.text_field :sales_person_code, class: 'styled-textarea'  %>
  </div>

  <div>
    <%= form.label :sales_person_name %>
    <%= form.text_field :sales_person_name, class: 'styled-textarea'  %>
  </div>

  <div>
    <%= form.submit %>
  </div>
<% end %>
</div>




  
 <div class="stats-container">
    <h3>Customer Statistics</h3>
    
    <div class="customer-stats">
  <div class="stat-card">
    <h4>Total Customers</h4>
    <p>1,250</p>
  </div>
  <div class="stat-card">
    <h4>Average Order Value</h4>
    <p>$45.60</p>
  </div>
  <div class="stat-card">
    <h4>Repeat Purchase Rate</h4>
    <p>35%</p>
  </div>
  <div class="stat-card">
    <h4>Customer Satisfaction</h4>
    <p>4.7/5</p>
  </div>
</div>
</div>
</div>
    


   
    
    
    
  

 
 
<style>
.form-container {
  display: flex;
  justify-content: space-between;
  gap: 20px; /* Adds space between the form and stats container */
}

.main-form {
  width: 95%; /* Main form takes up 75% of the width */
}

.stats-container {
  width: 50%; /* Stats container takes up 20% of the width */
  padding: 20px;
  background-color: #f4f4f4;
  border-radius: 8px;
  box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
}

.stats-container h3 {
  margin-top: 0;
}

.stats-container p {
  margin: 10px 0;
}
</style>







<script>
 document.getElementById('customer_name').addEventListener('change', function() {
  var customerName = this.value;
  fetch(`/sales_orders/get_customer_details?customer_name=${encodeURIComponent(customerName)}`)
    .then(response => response.json())
    .then(data => {
      if (data.error) {
        alert(data.error);
      } else {
        document.getElementById('customer_no').value = data.customer_no;
        document.getElementById('contactno').value = data.contactno;
        document.getElementById('contact_name').value = data.contact_name;
        document.getElementById('address').value = data.address;
        document.getElementById('city').value = data.city;
      }
    })
    .catch(error => console.error('Error fetching customer details:', error));
});
</script>
