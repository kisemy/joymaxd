<%= form_with(model: @invoice, local: true) do |form| %>
  <div class="form-container">
    <h3>Customer Card</h3>
    <!-- Customer fields here -->

    <h3>Invoice Lines</h3>
    <div class="table-responsive">
      <table id="invoice_lines" class="table table-bordered">
        <thead>
          <tr>
            <th>Item No</th>
            <th>Description</th>
            <th>Units of Measure</th>
            <th>Quantity</th>
            <th>Unit Price</th>
            <th>Amount</th>
          </tr>
        </thead>
        <tbody>
          <%= form.fields_for :invoice_lines do |invoice_line| %>
            <%= render 'invoice_line_fields', f: invoice_line %>
          <% end %>
        </tbody>
      </table>
    </div>

    <button type="button" id="add_invoice_line" class="btn btn-primary">Add Invoice Line</button>

    <div class="actions">
      <%= form.submit %>
    </div>
  </div>
<% end %>

<script type="text/template" id="invoice_lines_template">
  <%= render 'invoice_line_fields', f: InvoiceLine.new, id: 'NEW_RECORD' %>
</script>


